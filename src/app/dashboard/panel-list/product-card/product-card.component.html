<mat-card>
  <mat-card-content>
    <div fxLayout="row" fxLayoutAlign="space-between" class="card-title">
      <h2>{{product.data.title}}</h2>
      <div class="button-container">
        <button mat-icon-button class="delete-icon">
          <mat-icon (click)="deleteProduct(product)">delete</mat-icon>
        </button>
      </div>
    </div>
    <div>
      <table fxFill>
        <tr>
          <td>Categoria:</td>
          <td >{{product.data.category | titlecase}}</td>
        </tr>
        <tr>
          <td>Descrizione:</td>
          <td [matTooltip]="product.data.description" [matTooltipShowDelay]="1000">{{product.data.description | titlecase}}</td>
        </tr>
        <tr>
          <td>Prezzo:</td>
          <td >{{product.data.price}}</td>
        </tr>
        <tr>

          <td>Dipendente:</td>
          <td >{{product.data.employee | titlecase}}</td>
        </tr>
        <tr>
          <td colspan="2">
            <mat-accordion>
              <mat-expansion-panel [disabled]="!product.data.reviews">
                <mat-expansion-panel-header>
                  <mat-panel-title>
                    Commenti
                  </mat-panel-title>
                  <mat-panel-description>
                    <div>{{product.data.reviews && product.data.reviews.length}}</div>
                  </mat-panel-description>
                </mat-expansion-panel-header>
                <div *ngFor="let review of product.data.reviews">
                  <mat-accordion class="review-accordion">
                    <mat-expansion-panel>
                      <mat-expansion-panel-header>
                        <mat-panel-title>
                          <div>{{review.title}}</div>
                        </mat-panel-title>
                        <mat-panel-description>
                          <div>{{review.user}}</div>
                        </mat-panel-description>
                      </mat-expansion-panel-header>
                      <p>{{review.description}}</p>
                    </mat-expansion-panel>
                  </mat-accordion>
                </div>
              </mat-expansion-panel>
            </mat-accordion>
          </td>
        </tr>
      </table>
    </div>
  </mat-card-content>
</mat-card>


